{"filter":false,"title":"PullNewsfeedData.php","tooltip":"/Pull NewsFeed/PullNewsfeedData.php","undoManager":{"mark":0,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":87,"column":2},"action":"insert","lines":["<?php","//http://www.w3schools.com/php/func_mysqli_fetch_assoc.asp","","//error checking ","","error_reporting(E_ALL);","ini_set('Display errors', 1);","","include('ConnectDB.php');","","//varibales","$shopid;","$shopname;","$shopdesc;","$shopgeo;","","//create a new insatiance of the connect class","$db = new ConnectDB();","","//connect to the database ","$connect = $db->Connect();","","//select shop information from table","/*","$stmt = mysqli_prepare($connect,\"SELECT * FROM shops\");"," if ( false===$stmt ) {","\t\t\tdie('failed error 1 ' . htmlspecialchars($sqlvalue->error));","\t\t}","","//execute the statement to query the data","mysqli_stmt_execute($stmt);"," if ( false===$stmt ) {","\t\t\tdie('failed error 1 ' . htmlspecialchars($sqlvalue->error));","\t\t}","","//bind the results of the query to local varibales ","mysqli_stmt_store_result($stmt);","","mysqli_stmt_bind_result($stmt,$shopid,$shopname,$shopdesc,$shopgeo);","*/","","$sql = \"SELECT * FROM shops\";","","//store results in array for encoding ","$shop = array();","","","if($result = mysqli_query($connect,$sql)){","","","//$i = 0;","","","while($row = mysqli_fetch_assoc($result)){","  ","    /*$shop['id'] = $shopid;","    $shop['shopname'] = $shopname;","    $shop['shopDesc'] = $shopdesc;","    $shop['geo'] = $shopgeo; */","    //$shop[$i] = (\"shopid\" => $shopid, \"shopname\" =>$shopname, \"shopdesc\" => $shopdesc, \"shopgeo\" =>$shopgeo);","    ","    $row_array['id'] = $row['id'];","    $row_array['shopname'] = $row['shopname'];","    $row_array['shopDesc'] = $row['shopDesc'];","    $row_array['geo'] = $row['geo'];","    ","    array_push($shop,$row_array);","    ","   // $i++;","    ","    ","   }","","","}","","","","//encode the results to json for transporting ","echo json_encode($shop);","","mysqli_close($connect);","","","","","","?>"],"id":1}]]},"ace":{"folds":[],"scrolltop":506.4,"scrollleft":0,"selection":{"start":{"row":71,"column":4},"end":{"row":71,"column":4},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1460053451000,"hash":"369d8aa20730cdb8f3c2e808868bf9a58139b115"}